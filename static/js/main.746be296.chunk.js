(this["webpackJsonpgithub-react-client"]=this["webpackJsonpgithub-react-client"]||[]).push([[0],{112:function(e,t,n){},113:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(0),c=n(21),i=n.n(c),s=(n(112),n(113),n(57)),o=n(15),u=n(22),l=n(23),j=n(26),d=n(81),b=n(80),O=n(79),f=n(83),h=n(82),m=n(44),p=n(62),x=n(31),v=n(103),y=Object(x.compose)(Object(x.withMemo)("processedData",(function(e){var t=e.data.filter((function(e){return"PushEvent"===e.type})).map((function(e){var t=e.repo;return{id:t.id,name:t.name}})),n=Object(v.a)(t,(function(e){return e.name}));return Object.entries(n).map((function(e){var t=Object(l.a)(e,2);return{name:t[0],count:t[1]}})).sort((function(e,t){return e.count>t.count?-1:t.count>e.count?1:0}))}),["data"]))((function(e){var t=e.processedData;return Object(r.jsx)(j.a,{fill:!0,flex:!0,justify:"center",align:"center",children:Object(r.jsxs)(j.a,{pad:"medium",style:{maxWidth:"800px"},children:[console.table(t),Object(r.jsx)(p.a,{primaryKey:"count",secondaryKey:"name",data:t,onClickItem:function(e){var t=e.name,n=e.count;alert(t+n)}})]})})})),g=n(32),w=n.n(g),E=n(55),S=n.n(E),D=n(105),N=w.a.create({baseURL:"https://api.github.com"});S()(N,{retryDelay:S.a.exponentialDelay,retries:5});Object(D.a)({axios:N});var J=N,_=n(99),I=n(178),k=n(177),C=n(100);k.a.addDefaultLocale(C);var M=function(e){var t=e.event;return console.log(t),function(e){return({CommitCommentEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},CreateEvent:function(e){var t=e.payload,n=t.ref_type,a=t.ref,c=e.repo.name,i=e.created_at;return Object(r.jsxs)(m.a,{children:["created ",n," ",a," at ",c," ",Object(r.jsx)(I.a,{date:new Date(i)})]})},DeleteEvent:function(e){var t=e.payload,n=t.ref_type,a=t.ref,c=e.repo.name,i=e.created_at;return Object(r.jsxs)(m.a,{children:["deleted ",n," ",a," at ",c," ",Object(r.jsx)(I.a,{date:new Date(i)})]})},ForkEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},GollumEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},IssueCommentEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},IssuesEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},MemberEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},PublicEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},PullRequestEvent:function(e){var t=e.payload,n=t.action,a=t.pull_request,c=a.html_url,i=a.title,s=e.created_at;return Object(r.jsxs)(m.a,{children:[n," pull request: ",Object(r.jsx)("a",{href:c,children:i})," ",Object(r.jsx)(I.a,{date:new Date(s)})]})},PullRequestReviewCommentEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},PushEvent:function(e){var t=e.payload.ref,n=void 0===t?"":t,a=e.repo.name,c=e.created_at;return Object(r.jsxs)(m.a,{children:["pushed to"," ",n.includes("refs/heads/")&&n.split("/").slice(2).join("/")," ",a," ",Object(r.jsx)(I.a,{date:new Date(c)})]})},ReleaseEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},SponsorshipEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})},WatchEvent:function(e){return Object(r.jsx)(m.a,{children:JSON.stringify(e)})}}[e.type]||function(){return null})(e)}(t)},P=n(34),R=P.Box,q=P.List,W=Object(x.compose)(Object(x.withMemo)("processedData",(function(e){var t=e.data;return Object(o.a)(t)}),["data"]))((function(e){var t=e.processedData,n=void 0===t?[]:t;return Object(r.jsx)(R,{fill:!0,flex:!0,justify:"center",align:"center",children:Object(r.jsx)(R,{pad:"medium",style:{maxWidth:"800px"},children:Object(r.jsx)(q,{primaryKey:"type",data:n,action:function(e){return Object(r.jsx)(M,{event:e})}})})})})),L=n(104),B=function(e){var t=e.type,n=e.resource,c=Object(a.useState)([]),i=Object(l.a)(c,2),s=i[0],p=i[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),g=v[0],w=v[1],E=Object(a.useState)(!0),S=Object(l.a)(E,2),D=S[0],N=S[1],I=Object(a.useState)(null),k=Object(l.a)(I,2),C=k[0],M=k[1],P=Object(a.useState)(""),R=Object(l.a)(P,2),q=R[0],B=R[1],K=Object(a.useMemo)((function(){return s.length?new L.a(s,{keys:["id","type","repo.name"]}):{search:function(){return[]}}}),[s]),F=Object(a.useMemo)((function(){return q?(console.log(K.search(q)),K.search(q).map((function(e){return e.item}))):s}),[s,K,q]),z=function e(){C&&clearInterval(C);var r={url:"/"+t+"s/"+n+"/events"};g&&(r=Object(u.a)(Object(u.a)({},r),{},{headers:{"If-None-Match":g}})),J(r).then((function(t){var n=t.data,r=t.headers,a=r.etag,c=r["x-poll-interval"],i=void 0===c?60:c;console.log({newData:n,poll:i,etag:a}),p([].concat(Object(o.a)(n),Object(o.a)(s))),w(a),M(setInterval((function(){return e()}),1e3*i)),N(!1)})).catch((function(e){e.response&&304===e.response.status?console.log("Not modified!"):alert("Please refresh the page")}))};return Object(a.useEffect)((function(){C&&clearInterval(C),z()}),[t,n]),Object(r.jsx)(j.a,{pad:"medium",basis:"medium",children:Object(r.jsxs)(_.a,{loading:D,children:[Object(r.jsx)(j.a,{fill:!0,flex:!0,justify:"center",align:"center",children:Object(r.jsx)(j.a,{pad:"medium",children:Object(r.jsx)(d.a,{placeholder:"search",value:q,onChange:function(e){var t=e.target.value;return B(t)}})})}),s.length?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(j.a,{direction:"row",justify:"center",alignItems:"center",flex:!0,children:[Object(r.jsx)(b.a,{size:"large",margin:"small",src:s[0].actor.avatar_url}),Object(r.jsx)(O.a,{margin:"small",children:s[0].actor.display_login})]}),Object(r.jsxs)(f.a,{children:[Object(r.jsx)(h.a,{title:"Top Repos",children:Object(r.jsx)(y,{data:F})}),Object(r.jsx)(h.a,{title:"Details",children:Object(r.jsx)(W,{data:F})})]})]}):Object(r.jsx)(m.a,{children:"No content (yet)"})]})})},K=n(78);var F=function(){var e=function(){return Object(r.jsx)(s.a,{to:"/github-react-client/user/erasmuswill"})};return Object(r.jsxs)(K.a,{children:["Header with controls for input of ActivityLog variables",Object(r.jsxs)(s.b,{basepath:"/github-react-client",children:[Object(r.jsx)(B,{path:"/:type/:resource/:query"}),Object(r.jsx)(B,{path:"/:type/:resource/"}),Object(r.jsx)(e,{default:!0})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(r.jsx)(a.StrictMode,{children:Object(r.jsx)(F,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.746be296.chunk.js.map