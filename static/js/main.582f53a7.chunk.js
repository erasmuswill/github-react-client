(this["webpackJsonpgithub-react-client"]=this["webpackJsonpgithub-react-client"]||[]).push([[0],{133:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(0),r=a(14),o=a.n(r),s=(a(76),a(77),a(33)),i=a(34),u=a(35),l=a(12),j=a(141),b=a(143),d=a(139),h=a(140),O=a(26),p=a(66),f=Object(O.compose)(Object(O.withMemo)("processedData",(function(e){var t=e.data.filter((function(e){return"PushEvent"===e.type})).map((function(e){var t=e.repo;return{id:t.id,name:t.name}})),a=Object(p.a)(t,(function(e){return e.name}));return Object.entries(a).map((function(e){var t=Object(l.a)(e,2);return{name:t[0],count:t[1]}})).sort((function(e,t){return e.count>t.count?-1:t.count>e.count?1:0}))}),["data"]))((function(e){var t=e.processedData;return Object(n.jsxs)(j.a,{pad:"medium",basis:"small",children:[console.table(t),Object(n.jsx)(h.a,{primaryKey:"count",secondaryKey:"name",data:t,onClickItem:function(e){var t=e.name,a=e.count;alert(t+a)}})]})})),m=a(16),v=a.n(m),x=a(32),g=a.n(x),y=a(67),w=v.a.create({baseURL:"https://api.github.com"});g()(w,{retryDelay:g.a.exponentialDelay,retries:5});Object(y.a)({axios:w});var I=w,k=a(65),D=function(e){var t=e.type,a=e.resource,r=Object(c.useState)([]),o=Object(l.a)(r,2),s=o[0],h=o[1],O=Object(c.useState)(""),p=Object(l.a)(O,2),m=p[0],v=p[1],x=Object(c.useState)(!0),g=Object(l.a)(x,2),y=g[0],w=g[1],D=Object(c.useState)(null),S=Object(l.a)(D,2),E=S[0],M=S[1],B=function e(){E&&clearInterval(E);var n={url:"/"+t+"s/"+a+"/events"};m&&(n=Object(u.a)(Object(u.a)({},n),{},{headers:{"If-None-Match":m}})),I(n).then((function(t){var a=t.data,n=t.headers,c=n.etag,r=n["x-poll-interval"],o=void 0===r?60:r;console.log({newData:a,poll:o,etag:c}),h([].concat(Object(i.a)(a),Object(i.a)(s))),v(c),M(setInterval((function(){return e()}),1e3*o)),w(!1)})).catch((function(e){e.response&&304===e.response.status?console.log("Not modified!"):alert("Please refresh the page")}))};return Object(c.useEffect)((function(){E&&clearInterval(E),B()}),[t,a]),Object(n.jsx)(j.a,{pad:"medium",basis:"medium",flex:!0,children:Object(n.jsx)(k.a,{loading:y,children:Object(n.jsx)(b.a,{children:Object(n.jsx)(d.a,{title:"Top Repos",children:Object(n.jsx)(f,{data:s})})})})})};var S=function(){return Object(n.jsxs)("div",{children:["Header with controls for input of ActivityLog variables",Object(n.jsxs)(s.b,{basepath:"/github-react-client",children:[Object(n.jsx)(D,{path:"/:type/:resource/:query"}),Object(n.jsx)(D,{path:"/:type/:resource/"}),Object(n.jsx)(s.a,{to:"/user/erasmuswill",default:!0})]})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(n.jsx)(c.StrictMode,{children:Object(n.jsx)(S,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},76:function(e,t,a){},77:function(e,t,a){}},[[133,1,2]]]);
//# sourceMappingURL=main.582f53a7.chunk.js.map